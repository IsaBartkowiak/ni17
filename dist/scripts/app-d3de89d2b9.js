!function(){"use strict";angular.module("events",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ngMaterial","toastr","ngMaterialDatePicker"])}(),function(){"use strict";function e(){function e(e,t,n,s){function i(){l.notificationsCount=0,n.get({id:l.user.id},function(e){l.notifications=e,angular.forEach(l.notifications,function(e,t){0==e.seen&&l.notificationsCount++})})}function o(e){n.read({id:e},{},function(e){"success"==e.status&&i()})}function a(){s.logout(),t.go("login")}var l=this;l.currentState=t.current.name,l.user=e.currentUser,l.notifications=[],l.notificationsCount=0,l.readNotif=o,l.notifPanel=!1,l.logout=a,i()}e.$inject=["$rootScope","$state","notification","auth"];var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",controller:e,scope:{bloctitle:"=",subtitle:"="},controllerAs:"nav",bindToController:!0};return t}angular.module("events").directive("navbar",e)}(),function(){"use strict";function e(e){return function(t){return e(t).startOf("minute").fromNow()}}e.$inject=["moment"],angular.module("events").filter("relativeDate",e)}(),function(){"use strict";function e(e){return function(t){var n=[];return t.length&&angular.forEach(t,function(t){angular.forEach(t.slots,function(s){angular.forEach(s.users,function(s){s.id==e.currentUser.id&&-1==n.indexOf(t)&&n.push(t)})})}),n}}e.$inject=["$rootScope"],angular.module("events").filter("myParticipation",e)}(),function(){"use strict";function e(e){return function(t,n){return e(t).format(n)}}e.$inject=["moment"],angular.module("events").filter("cleanDate",e)}(),function(){"use strict";function e(){function e(e,t,n,s){s.$validators.compareTo=function(t){return t==e.otherModelValue},s.$validate(),e.$watch("otherModelValue",function(){s.$validate()})}e.$inject=["$scope","element","attributes","ngModel"];var t={restrict:"A",require:"ngModel",link:e,scope:{otherModelValue:"=compareTo"}};return t}angular.module("events").directive("compareTo",e)}(),function(){"use strict";function e(e,t,n,s,i,o,a){function l(e){console.log(e.$valid),e.$valid&&a.update({id:r.user.id},r.user,function(e){console.log(e),"success"==e.status?s.success("Votre compte a bien été modifié","Succès"):s.error("Une erreur est survenue","Oups")})}e.context="updateUser";var r=this;r.user=e.currentUser,r.user.newPassword="",r.user.confirmNewPassword="",r.saveChanges=l}e.$inject=["$rootScope","$scope","$timeout","toastr","event","moment","users"],angular.module("events").controller("ProfileCtrl",e)}(),function(){"use strict";function e(e,t,n,s,i,o,a,l){function r(){i.getAll(function(e){g.events=e})}function c(t){l["delete"]({id:t.id,userid:e.currentUser.id},function(n){if("success"==n.status){var i=g.getIndexOf(e.currentUser,t.users);t.users.splice(i,1),s.success("Participation supprimée","Succès")}})}function d(){g.filter="",g.activeTab="all"}function u(){g.filter={owner:{id:e.currentUser.id}},g.activeTab="user"}function v(){g.filter="main.myParticipation()",g.activeTab="participation"}function p(){g.filter={closed:!0},g.activeTab="done"}function m(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e.id)return!0;return!1}function f(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e.id)return n;return-1}var g=this;e.bodyClass="app",e.context="main",g.events=[],g.data=o,g.filter={},g.activeTab="all",g.containsObject=m,g.removeUserParticipation=c,g.getIndexOf=f,g.showAll=d,g.showUser=u,g.showDone=p,g.showParticipations=v,r()}e.$inject=["$rootScope","$timeout","$scope","toastr","event","moment","users","participations"],angular.module("events").controller("MainController",e)}(),function(){"use strict";function e(e,t,n,s,i){function o(){i.register(a.user).then(function(){t.go("home"),n.success("Bienvenue wesh :)","Ola!")})["catch"](function(){n.error("Une erreur est survenue","Oups")})}var a=this;e.bodyClass="connexion",a.user={},a.createAccount=o}e.$inject=["$rootScope","$state","toastr","users","auth"],angular.module("events").controller("RegisterController",e)}(),function(){"use strict";function e(e,t,n,s,i){function o(){i.login(a.email,a.password).then(function(){n.success("Connexion réussie !","Succès"),e.go("home")})["catch"](function(){n.error("E-mail ou mot de passe invalide","Erreur")})}var a=this;t.bodyClass="connexion",a.email="",a.password="",a.authentificate=o}e.$inject=["$state","$rootScope","toastr","users","auth"],angular.module("events").controller("LoginController",e)}(),function(){"use strict";function e(e,t,n,s,i,o,a,l,r,c){function d(){l.get({id:i.id},function(e){f.event=e})}function u(t){if(f.containsObject(e.currentUser,t.users))f.removeUserParticipation(t);else{var n={};n.slotId=t.id,n.userId=e.currentUser.id,c.create({id:f.event.id},n,function(n){if("success"==n.status&&(t.users.push(e.currentUser),a.success("Participation enregistrée","Succès"),f.event.owner.id!=e.currentUser.id)){var s={};s.content=e.currentUser.name+" "+e.currentUser.lastname+" participe à votre évènement "+f.event.title,s.type=2,s.UserId=f.event.owner.id,o.create(s)}})}}function v(t){c["delete"]({id:t.id,userid:e.currentUser.id},function(n){if("success"==n.status){var s=f.getIndexOf(e.currentUser,t.users);t.users.splice(s,1),a.success("Participation supprimée","Succès");var i={};i.content=e.currentUser.name+" "+e.currentUser.lastname+" s'est désinscrit de votre évènement "+f.event.title,i.type=3,i.UserId=f.event.owner.id,o.create(i)}})}function p(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e.id)return n;return-1}function m(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e.id)return!0;return!1}var f=this;f.event={},f.addUserParticipation=u,f.containsObject=m,f.removeUserParticipation=v,f.getIndexOf=p,d()}e.$inject=["$rootScope","$mdDialog","$state","$document","$stateParams","notification","toastr","event","slot","participations"],angular.module("events").controller("SingleEventController",e)}(),function(){"use strict";function e(e,t,n,s,i,o,a,l){function r(){a.get({id:t.id},function(e){p.event=e,angular.forEach(e.slots,function(e,t){p.dates[t]={},p.dates[t].date=e.date.toString(),t>0&&p.field.push({id:t})}),p.fieldCount=p.dates.length})}function c(){var e={};e.id=p.fieldCount,p.field.length<5&&(p.field.push(e),p.fieldCount++)}function d(e){var t=p.field.indexOf(e);p.field.splice(t,1),delete p.dates[e.id]}function u(e){e.$valid&&a.update({id:t.id},p.event,function(e){"success"==e.status?(angular.forEach(p.dates,function(t){l.create({id:e.id},t)}),o.success("Votre évènement a bien été modifié","Succès"),n(function(){i.go("singleevent",{id:e.id})},500)):o.error("Une erreur est survenue","Oups")})}function v(e){var n=s.confirm().title("Confirmer").parent(angular.element(document.querySelector("#editevent"))).clickOutsideToClose(!0).textContent("Etes-vous sûr de vouloir supprimer cet évènement ?").ariaLabel("confirm").targetEvent(e).ok("Oui").cancel("Annuler");s.show(n).then(function(){a["delete"]({id:t.id},function(e){"success"==e.status?(o.success("Votre évènement a bien été supprimé","Succès"),i.go("home")):o.error("Une erreur est survenue","Oups")})})}var p=this;p.event={},p.field=[],p.dates=[],p.fieldCount=0,p.removeField=d,p.addField=c,p.updateEvent=u,p.deleteEvent=v,r()}e.$inject=["$rootScope","$stateParams","$timeout","$mdDialog","$state","toastr","event","slot"],angular.module("events").controller("EditEventController",e)}(),function(){"use strict";function e(e,t,n,s,i,o,a){function l(){a.get({id:t.id},function(e){u.event=e;var t=null;angular.forEach(e.slots,function(e){e.users.length!=t&&null!=t&&(u.recommandation=!0,u.showHelp=!0),t=e.users.length})})}function r(e){u.selection={},u.selection[e]=!0}function c(e){var i=s.confirm().title("Confirmer").parent(angular.element(document.querySelector("#closevent"))).clickOutsideToClose(!0).textContent("Etes-vous sûr de vouloir cloturer cet évènement ?").ariaLabel("confirm").targetEvent(e).ok("Oui").cancel("Annuler");s.show(i).then(function(){var e={id:Object.keys(u.selection)[0]};a.close({id:t.id},e,function(e){"success"==e.status?(o.success("Votre évènement a bien été cloturé","Succès"),u.notifyUsers(),n.go("singleevent",{id:t.id})):o.error("Une erreur est survenue","Oups")})})}function d(){angular.forEach(u.event.slots,function(e){e.users.length>0&&angular.forEach(e.users,function(e){var t={};t.content="L'évènement "+u.event.title+" auquel vous avez participé a été cloturé !",t.type=1,t.UserId=e.id,i.create(t)})})}var u=this;u.event={},u.selection={},u.recommandation=!1,u.changeSelection=r,u.closeEvent=c,u.showHelp=!1,u.notifyUsers=d,l()}e.$inject=["$rootScope","$stateParams","$state","$mdDialog","notification","toastr","event"],angular.module("events").controller("CloseEventController",e)}(),function(){"use strict";function e(e,t,n,s,i,o){function a(){var e={};e.id=c.fieldCount,c.field.length<5&&(c.field.push(e),c.fieldCount++)}function l(e){var t=c.field.indexOf(e);c.field.splice(t,1),delete c.dates[e.id]}function r(e){e.$valid&&i.create(c.event,function(e){"success"==e.status?(angular.forEach(c.dates,function(t){o.create({id:e.id},t)}),n(function(){s.success("Votre évènement a bien été crée","Succès"),t.go("singleevent",{id:e.id})},500)):s.error("Une erreur est survenue","Oups")})}var c=this;e.context="add",c.event={},c.event.UserId=e.currentUser.id,c.field=[],c.fieldCount=1,c.dates={},c.addField=a,c.removeField=l,c.addEvent=r}e.$inject=["$rootScope","$state","$timeout","toastr","event","slot"],angular.module("events").controller("EventController",e)}(),function(){"use strict";function e(e){return e("http://localhost:5000/api/users/",{},{create:{method:"POST",withCredentials:!0},get:{method:"GET",isArray:!0,params:{id:"@id"}},getAll:{method:"GET",isArray:!0},"delete":{method:"DELETE",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"},url:"http://localhost:5000/api/users/:id"},login:{url:"http://localhost:5000/api/users/login/",method:"POST",withCredentials:!0},logout:{url:"http://localhost:5000/api/users/logout/",method:"GET",withCredentials:!0},loggedin:{url:"http://localhost:5000/api/users/loggedin/",method:"GET",withCredentials:!0}})}e.$inject=["$resource"],angular.module("events").factory("users",e)}(),function(){"use strict";function e(e){return e("http://localhost:5000/api/events/:id/slots/",{},{create:{method:"POST",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}}})}e.$inject=["$resource"],angular.module("events").factory("slot",e)}(),function(){"use strict";function e(e){return e("http://localhost:5000/api/events/:id/participations/",{},{create:{method:"POST",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id",userid:"@userid"}},"delete":{method:"DELETE",params:{id:"@id",userid:"@userid"},url:"http://localhost:5000/api/participations/:id/user/:userid"}})}e.$inject=["$resource"],angular.module("events").factory("participations",e)}(),function(){"use strict";function e(e){return e("http://localhost:5000/api/notifications/",{},{create:{method:"POST"},get:{method:"GET",params:{id:"@id"},isArray:!0,url:"http://localhost:5000/api/users/:id/notifications"},read:{method:"PUT",params:{id:"@id"},url:"http://localhost:5000/api/notifications/:id"}})}e.$inject=["$resource"],angular.module("events").factory("notification",e)}(),function(){"use strict";function e(e){return e("http://localhost:5000/api/events/",{},{create:{method:"POST"},get:{method:"GET",params:{id:"@id"},url:"http://localhost:5000/api/events/:id"},getAll:{method:"GET",isArray:!0},"delete":{method:"DELETE",params:{id:"@id"},url:"http://localhost:5000/api/events/:id"},update:{method:"PUT",params:{id:"@id"},url:"http://localhost:5000/api/events/:id"},close:{method:"PUT",params:{id:"@id"},url:"http://localhost:5000/api/events/:id/close/"}})}e.$inject=["$resource"],angular.module("events").factory("event",e)}(),function(){"use strict";function e(e,t,n){function s(){return r}function i(){return r?!0:!1}function o(e){var s=t.defer();return n.create({email:e.email,password:e.password,name:e.name,lastname:e.lastname,biography:e.bio},function(e){r=e,s.resolve()},function(e){s.reject(e)}),s.promise}function a(e,s){console.log("test");var i=t.defer();return n.login({email:e,password:s},function(e){console.log(e),console.log("1"),r=e,i.resolve()},function(e){console.log(e),console.log("2"),i.reject()}),i.promise}function l(){n.logout(),r=!1}var r={};return{currentUser:r,isLoggedIn:i,login:a,register:o,getUser:s,logout:l}}e.$inject=["$resource","$q","users"],angular.module("events").factory("auth",e)}(),function(){"use strict";function e(e,t,n,s,i){i.loggedin(function(e){t.currentUser=e}),t.$on("$stateChangeStart",function(e,s,o,a,l){i.loggedin(function(e){e.user?t.currentUser=e.user:"register"!=s.name&&n.go("login")})})}e.$inject=["$log","$rootScope","$state","$timeout","users"],angular.module("events").run(e)}(),function(){"use strict";function e(e,t,n){e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).state("login",{url:"/se-connecter/",templateUrl:"app/login/login.html",controller:"LoginController",controllerAs:"login"}).state("register",{url:"/creer-un-compte/",templateUrl:"app/login/register.html",controller:"RegisterController",controllerAs:"register"}).state("addevent",{url:"/ajouter-evenement/",templateUrl:"app/events/add-event.html",controller:"EventController",controllerAs:"EventCtrl"}).state("singleevent",{url:"/evenement/:id",templateUrl:"app/events/single-event.html",controller:"SingleEventController",controllerAs:"single"}).state("editevent",{url:"/evenement/modifier/:id",templateUrl:"app/events/edit-event.html",controller:"EditEventController",controllerAs:"edit"}).state("closeevent",{url:"/evenement/cloturer/:id",templateUrl:"app/events/close-event.html",controller:"CloseEventController",controllerAs:"close"}).state("profile",{url:"/profile/",templateUrl:"app/profile/profile.html",controller:"ProfileCtrl",controllerAs:"profile"}),t.otherwise("/"),n.html5Mode(!0)}e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],angular.module("events").config(e)}(),function(){"use strict";angular.module("events").constant("moment",moment)}(),function(){"use strict";function e(e,t,n,s){e.debugEnabled(!0),s.locale("fr"),t.timeOut=3e3,t.showDuration=1e3,t.positionClass="toast-bottom-right",t.newestOnTop=!0}e.$inject=["$logProvider","toastrConfig","$mdDateLocaleProvider","moment"],angular.module("events").config(e)}(),angular.module("events").run(["$templateCache",function(e){e.put("app/main/main.html",'<navbar bloctitle="\'Bonjour \'+currentUser.name" subtitle="\'Lorem ipsum dolor sit amet ut primum caetere doloris !\'"></navbar><nav class=tab><span class=tab-link ng-class="{\'active\': main.activeTab == \'all\'}" ng-click=main.showAll()>Tous</span> <span class=tab-link ng-class="{\'active\': main.activeTab == \'user\'}" ng-click=main.showUser()>Mes évènements</span> <span class=tab-link ng-class="{\'active\': main.activeTab == \'participation\'}" ng-click=main.showParticipations()>Mes participations</span> <span class=tab-link ng-class="{\'active\': main.activeTab == \'done\'}" ng-click=main.showDone()>Terminé</span></nav><section class=eventlist><div class=row><p class=eventlist-count ng-if="currentEvent.length > 0">{{currentEvent.length}} évènements</p><p class=eventlist-count ng-if="main.activeTab != \'participation\' && currentEvent.length == 0">Pas d\'évènement</p><div ng-if="main.activeTab != \'participation\'" ng-repeat="event in currentEvent=(main.events | filter:main.filter | orderBy: \'-updatedAt\')" class=col-md-4><a ng-href=/evenement/{{event.id}} class=eventlist-content ng-class="{closed: event.closed}"><span class=eventlist-imgwrapper><img src=https://media.timeout.com/images/101705313/image.jpg alt="" class=eventlist-img><p class=eventlist-slot ng-if=!event.closed>{{event.slots.length}} créneaux disponibles</p><p class=eventlist-slot ng-if=event.closed>Evènement cloturé</p></span><ul class="eventlist-info list-inline"><li class=eventlist-place><i class="icon-marker eventlist-place-icon"></i> {{event.place}}</li><!-- <li class="eventlist-slot">{{event.slots.length}} créneaux</li> --></ul><span class=eventlist-text><h2 class=eventlist-title>{{event.title}}</h2><p class=eventlist-author>Crée par {{event.owner.name}} {{event.owner.lastname}}</p><p class=eventlist-description>{{event.description}}</p></span></a><div class=eventlist-control ng-if="event.owner.id == currentUser.id && !event.closed"><a class=eventlist-edit ng-href=/evenement/modifier/{{event.id}} class="btn btn-primary">Modifier</a> <a class=eventlist-close ng-href=/evenement/cloturer/{{event.id}} class="btn btn-primary">Clôturer</a></div></div><!-- si onglet participation --><div ng-if="main.activeTab == \'participation\'" ng-repeat="event in copyEvent=(main.events | myParticipation | orderBy: \'-updatedAt\')" class=col-md-4><a ng-href=/evenement/{{event.id}} class=eventlist-content><span class=eventlist-imgwrapper><img src=https://media.timeout.com/images/101705313/image.jpg alt="" class=eventlist-img><p class=eventlist-slot>{{event.slots.length}} créneaux disponibles</p></span><ul class="eventlist-info list-inline"><li class=eventlist-place><i class="icon-marker eventlist-place-icon"></i> {{event.place}}</li><!-- <li class="eventlist-slot">{{event.slots.length}} créneaux</li> --></ul><span class=eventlist-text><h2 class=eventlist-title>{{event.title}}</h2><p class=eventlist-author>Crée par {{event.owner.name}} {{event.owner.lastname}}</p><p class=eventlist-description>{{event.description}}</p></span></a><div class=eventlist-control ng-if="event.owner.id == currentUser.id && !event.closed"><a class=eventlist-edit ng-href=/evenement/modifier/{{event.id}} class="btn btn-primary">Modifier</a> <a class=eventlist-close ng-href=/evenement/cloturer/{{event.id}} class="btn btn-primary">Clôturer</a></div></div><p class=text-center ng-show="!copyEvent.length && main.activeTab == \'participation\'">Vous n\'avez pas encore de participations enregistrées</p></div></section>'),e.put("app/events/add-event.html",'<navbar bloctitle="\'Ajouter un évènement\'" subtitle="\'Lorem ipsum dolor sit amet ut primum!\'"></navbar><div class="form-container addevent"><div class="box form-box"><form name=addEventForm class=row><!-- ****** INFO ************************** --><h3 class=box-title>Infos</h3><!-- champ titre --><div class="box-field col-sm-6"><label>Titre</label><input required ng-model=EventCtrl.event.title></div><!-- champ lieu --><div class="box-field col-sm-6"><label>Lieu</label><input required ng-model=EventCtrl.event.place></div><!-- champ description --><div class="box-field col-sm-12"><label>Description</label><textarea ng-model=EventCtrl.event.description rows=5></textarea></div><!-- ****** CRENEAUX ************************** --><h3 class=box-title>Créneaux</h3><div class=col-sm-12><label>Date(s)</label></div><!-- 1er champ datepicker --><div class=addevent-slot><div class="box-field col-xs-10"><i class="icon-calendar input-icon"></i> <input class="input icon" mdc-datetime-picker="" date=true time=true type=text id=datetime show-todays-date=true format="DD/MM/YYYY HH:mm" min-date=date ng-model=EventCtrl.dates[0].date class=md-input week-start=1 lang=fr cancel-text=Annuler today-text="Aujourd\'hui"></div><div class="col-xs-2 addevent-slot-btn"><span class="btn btn-plus" ng-click=EventCtrl.addField()><i class=icon-plus></i></span></div></div><!-- repeater --><div class=addevent-slot ng-repeat="field in EventCtrl.field track by $index | limitTo:4"><!-- bouton input --><div class="box-field col-xs-10"><i class="icon-calendar input-icon"></i> <input class="input icon" mdc-datetime-picker="" date=true time=true type=text id=datetime placeholder=Date show-todays-date="" format="DD/MM/YYYY HH:mm" min-date=date ng-model=EventCtrl.dates[field.id].date class=md-input week-start=1 lang=fr cancel-text=Annuler today-text="Aujourd\'hui"></div><!-- bouton supprimer --><div class="col-xs-2 addevent-slot-btn"><span class="btn btn-plus" ng-click=EventCtrl.removeField(field)><i class=icon-trash></i></span></div></div><!-- bouton validation --> <button ng-click=EventCtrl.addEvent(addEventForm) class="btn btn-primary box-btn">Valider</button></form></div></div>'),e.put("app/events/close-event.html",'<navbar bloctitle="\'Clôturer \'+close.event.title" subtitle="\'Choisissez le créneau préféré parmi la liste\'"></navbar><div class="form-container closevent" id=closevent><div class="box form-box"><form name=closeEventForm class=row><h3 class=box-title>Créneaux disponibles</h3><ul class="slots list-inline" ng-if="close.event.slots.length > 0"><li ng-repeat="slot in close.event.slots | orderBy:\'-users\' track by $index " class=slots-item ng-class="{\'active\': close.containsObject(currentUser, slot.users)}"><div class=slots-date><p class=slots-day>{{slot.date | cleanDate: \'D\'}}</p><p class=slots-month>{{slot.date | cleanDate: \'MMMM\' | limitTo:3}}</p><p class=slots-year>{{slot.date | cleanDate: \'Y\'}}</p></div><div class=slots-infos><div class=slots-infos-content><p class=slots-hour><i class=icon-clock></i> {{slot.date | cleanDate: \'kk\'}}h</p><p class=slots-count>{{slot.users.length}} personne(s)</p><div class=slots-users><div class=slots-users-item ng-repeat="user in slot.users"><img class=slots-users-img src=/assets/images/user.jpg alt={{user.name}}><p class=slots-users-name>{{user.name}}</p></div></div></div></div><div class=slots-checkbox><input type=checkbox ng-init="$first && close.recommandation ? close.selection[slot.id] = true : \'\'" ng-click="" ng-change=close.changeSelection(slot.id) ng-model=close.selection[slot.id]></div><div ng-if="$first && close.recommandation" ng-show=close.showHelp class=slots-recommandation><p>Nous vous recommandons ce créneau pour votre évènement</p><i class="icon-cross slots-recommandation-close" ng-click="close.showHelp = !close.showHelp"></i></div></li></ul><!-- bouton validation --> <button ng-click=close.closeEvent($event) class="btn btn-primary box-btn">Valider</button></form></div></div>'),e.put("app/events/edit-event.html",'<navbar bloctitle="\'Modifier l\\\'évenement\'" subtitle=edit.event.title></navbar><div class="form-container editevent" id=editevent><div class="box form-box"><form name=editEventForm class=row><!-- ****** INFO ************************** --><h3 class=box-title>Infos</h3><!-- champ titre --><div class="box-field col-sm-6"><label>Titre</label><input required ng-model=edit.event.title></div><!-- champ lieu --><div class="box-field col-sm-6"><label>Lieu</label><input required ng-model=edit.event.place></div><!-- champ description --><div class="box-field col-sm-12"><label>Description</label><textarea ng-model=edit.event.description rows=5></textarea></div><!-- ****** CRENEAUX ************************** --><h3 class=box-title>Créneaux</h3><div class=col-sm-12><label>Date(s)</label></div><!-- 1er champ datepicker --><div class=addevent-slot><div class="box-field col-xs-10"><i class="icon-calendar input-icon"></i> <input class="input icon" mdc-datetime-picker="" date=true time=true type=text id=datetime placeholder=Date show-todays-date="" format="DD/MM/YYYY HH:mm" min-date=date ng-model=edit.dates[0].date class=md-input week-start=1 lang=fr cancel-text=Annuler today-text="Aujourd\'hui"></div><div class="col-xs-2 addevent-slot-btn"><span class="btn btn-plus" ng-click=edit.addField()><i class=icon-plus></i></span></div></div><!-- repeater --><div class=addevent-slot ng-repeat="field in edit.field"><!-- bouton input --><div class="box-field col-xs-10"><i class="icon-calendar input-icon"></i> <input class="input icon" mdc-datetime-picker="" date=true time=true type=text id=datetime placeholder=Date show-todays-date="" format="DD/MM/YYYY HH:mm" min-date="" ng-model=edit.dates[field.id].date class=md-input week-start=1 lang=fr cancel-text=Annuler today-text="Aujourd\'hui"></div><!-- bouton supprimer --><div class="col-xs-2 addevent-slot-btn"><span class="btn btn-plus" ng-click=edit.removeField(field)><i class=icon-trash></i></span></div></div><!-- bouton control --> <button ng-click=edit.deleteEvent($event) class="btn btn-primary box-btn">Supprimer</button> <button ng-click=edit.updateEvent(editEventForm) class="btn btn-primary box-btn">Enregistrer</button></form></div></div>'),e.put("app/events/single-event.html",'<navbar bloctitle=single.event.title subtitle=single.event.description></navbar><div class="form-container single" id=single><div class="box form-box"><p class=single-place><i class="icon-marker eventlist-place-icon"></i> {{single.event.place}}</p><p class=single-author><i class=icon-head></i> {{single.event.owner.name}} {{single.event.owner.lastname}}</p><!-- Si l\'evenement est cloturé --><div class="slots list-inline" ng-if=single.event.closed><h3 class=box-title>Créneau choisi</h3><p class=single-closed>Evènement cloturé</p><li ng-repeat="slot in single.event.slots | filter: {choosen:true} track by $index " class=slots-item><div class=slots-date><p class=slots-day>{{slot.date | cleanDate: \'D\'}}</p><p class=slots-month>{{slot.date | cleanDate: \'MMMM\' | limitTo:3}}</p><p class=slots-year>{{slot.date | cleanDate: \'Y\'}}</p></div><div class=slots-infos><div class=slots-infos-content><p class=slots-hour><i class=icon-clock></i> {{slot.date | cleanDate: \'HH:mm\'}}</p><p class=slots-count>{{slot.users.length}} personne(s)</p><div class=slots-users><div class=slots-users-item ng-repeat="user in slot.users"><img class=slots-users-img src=/assets/images/user.jpg alt={{user.name}}><p class=slots-users-name>{{user.name}}</p></div></div></div></div></li></div><!-- S\'il n\'est pas cloturé --><form name=closeEventForm class=row ng-if=!single.event.closed><h3 class=box-title>Créneaux proposés</h3><ul class="slots list-inline" ng-if="single.event.slots.length > 0"><li ng-repeat="slot in single.event.slots | orderBy: \'-date\' track by $index" class=slots-item ng-class="{\'active\': single.containsObject(currentUser, slot.users)}"><div class=slots-date><p class=slots-day>{{slot.date | cleanDate: \'D\'}}</p><p class=slots-month>{{slot.date | cleanDate: \'MMMM\' | limitTo:3}}</p><p class=slots-year>{{slot.date | cleanDate: \'Y\'}}</p></div><div class=slots-infos><div class=slots-infos-content><p class=slots-hour><i class=icon-clock></i> {{slot.date | cleanDate: \'HH:mm\'}}</p><p class=slots-count>{{slot.users.length}} personne(s)</p><div class=slots-users><div class=slots-users-item ng-repeat="user in slot.users"><img class=slots-users-img src=/assets/images/user.jpg alt={{user.name}}><p class=slots-users-name>{{user.name}}</p></div></div></div></div><div class=slots-checkbox><input type=checkbox ng-checked="single.containsObject(currentUser, slot.users)" ng-click=single.addUserParticipation(slot)></div></li></ul></form></div></div>'),e.put("app/login/login.html",'<!-- navigation se connecter/créer un compte --><div class=connexion-nav><img class=logo src=/assets/images/logo.png alt="Logo Wesh"><nav><a class="connexion-nav-link active" href=/se-connecter>Se connecter</a> <a class=connexion-nav-link href=/creer-un-compte/ >Créer un compte</a></nav></div><!-- bloc de connexion --><section class="box login"><h1 class=box-title>Se connecter</h1><h2 class=box-subtitle>Lorem ipsum dolor sit amet</h2><div class="box-field col-xs-12"><i class="icon-mail input-icon"></i> <input class="input icon" required type=text ng-model=login.email placeholder="Adresse e-mail"></div><div class="box-field col-xs-12"><i class="icon-unlock input-icon"></i> <input class="input icon" required type=password placeholder="Mot de passe" ng-model=login.password></div><button ng-click=login.authentificate() class="btn btn-primary box-btn">Se connecter</button></section>'),e.put("app/login/register.html",'<!-- navigation se connecter/créer un compte --><div class=connexion-nav><img class=logo src=/assets/images/logo.png alt="Logo Wesh"><nav><a class=connexion-nav-link href=/se-connecter/ >Se connecter</a> <a class="connexion-nav-link active" href=/creer-un-compte/ >Créer un compte</a></nav></div><!-- bloc de connexion --><section class="box register"><h1 class=box-title>Créer un compte</h1><h2 class=box-subtitle>Veuillez remplir le formulaire suivant</h2><form name=registerForm class=row><!-- champ nom --><div class="box-field col-sm-6"><label>Nom</label><input required ng-model=register.user.lastname></div><!-- champ prenom --><div class="box-field col-sm-6"><label>Prénom</label><input required ng-model=register.user.name></div><!-- champ bio --><div class="box-field col-sm-12"><label>Bio</label><textarea ng-model=register.user.bio></textarea></div><!-- champ email (login) --><div class="box-field col-sm-12"><label>Adresse e-mail</label><input type=email name=email ng-pattern=/^.+@.+\\..+$/ required ng-model=register.user.email><div ng-messages=registerForm.email.$error role=alert><p ng-message-exp="[\'pattern\']">E-mail invalide</p></div></div><!-- champ mdp --><div class="box-field col-sm-12"><label>Mot de passe</label><input type=password required ng-model=register.user.password></div><button ng-click=register.createAccount() class="btn btn-primary box-btn">Créer un compte</button></form></section>'),e.put("app/profile/profile.html",'<navbar bloctitle="\'Informations Utilisateur\'" subtitle="\'Lorem ipsum dolor sit amet ut primum!\'"></navbar><div class="form-container profile"><section class="box form-box"><h3 class=box-subtitle>Vous pouvez modifier vos informations</h3><form name=registerForm class=row><!-- champ nom --><div class="box-field col-sm-6"><label>Nom</label><input required ng-model=profile.user.lastname></div><!-- champ prenom --><div class="box-field col-sm-6"><label>Prénom</label><input required ng-model=profile.user.name></div><!-- champ bio --><div class="box-field col-sm-12"><label>Bio</label><textarea ng-model=profile.user.biography></textarea></div><!-- champ email (login) --><div class="box-field col-sm-12"><label>Adresse e-mail</label><input type=email name=email ng-pattern=/^.+@.+\\..+$/ required ng-model=profile.user.email><div ng-messages=registerForm.email.$error role=alert><p ng-message-exp="[\'pattern\']">E-mail invalide</p></div></div><!-- champ mdp --><div class="box-field col-sm-12"><label>Nouveau mot de passe</label><input type=password ng-model=profile.user.newPassword name=newPassword></div><!-- champ mdp --><div class="box-field col-sm-12"><label>Confirmation mot de passe</label><input compare-to=profile.user.newPassword type=password ng-model=profile.user.confirmNewPassword name=confirmNewPassword><div ng-show=registerForm.confirmNewPassword.$error.compareTo>Les mots de passe doivent correspondrent</div></div><button ng-click=profile.saveChanges(registerForm) class="btn btn-primary box-btn">Enregistrer</button></form></section></div>'),e.put("app/components/navbar/navbar.html",'<header class=header><div class=header-right><a ng-href=/ class=header-home><img class="logo header-right-logo" src=/assets/images/logo-white.png alt="Logo Wesh"></a><nav class=header-nav><a ng-href=/ ng-class="{ active: nav.currentState == \'home\'}">Accueil</a> <a ng-href=/ajouter-evenement/ ng-class="{ active: nav.currentState == \'addevent\'}">Ajouter event</a></nav></div><ul class="header-user list-inline"><li class=header-user-profile><a ng-href=/profile/ >{{nav.user.name}}</a></li><li class=header-user-alert><i class="icon icon-notifications_none header-notif-btn" ng-click="nav.notifPanel = !nav.notifPanel" ng-class="{active: nav.notifPanel}"><span class=header-notif-count ng-if="nav.notificationsCount > 0">{{nav.notificationsCount}}</span></i><div class=header-notif ng-show=nav.notifPanel><p class=header-notif-title>Notifications</p><div class=header-notif-content><div class=header-notif-el ng-repeat="notif in nav.notifications | orderBy:\'-createdAt\'" ng-class="{new: !notif.seen}"><p class=header-notif-txt>{{notif.content}}</p><p class=header-notif-date>{{notif.createdAt | relativeDate}}</p><span ng-if=!notif.seen ng-click=nav.readNotif(notif.id) class=header-notif-read>OK</span></div><div class=header-notif-el ng-if="nav.notifications.length == 0"><p class=header-notif-txt>Il n\'y pas encore de notifications</p></div></div></div></li><li class=header-user-logout><i class="icon icon-power" ng-click=nav.logout()></i></li></ul><div class=header-text><h1 class=header-title>{{nav.bloctitle}}</h1><p class=header-subtitle>{{nav.subtitle}}</p><a class=header-add ng-if="nav.currentState == \'home\'" ng-href=/ajouter-evenement/ ><i class=icon-plus></i></a></div></header>');
}]);
//# sourceMappingURL=../maps/scripts/app-d3de89d2b9.js.map
